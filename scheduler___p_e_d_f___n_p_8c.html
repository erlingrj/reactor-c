<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>reactor-c: core/threaded/scheduler_PEDF_NP.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">reactor-c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li><li class="navelem"><a class="el" href="dir_9409d006c5a5b89ee51387d0bee40656.html">threaded</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">scheduler_PEDF_NP.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="lf__types_8h_source.html">lf_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="platform_8h_source.html">platform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pqueue_8h_source.html">pqueue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="reactor_8h_source.html">reactor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scheduler__instance_8h_source.html">scheduler_instance.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scheduler__sync__tag__advance_8h_source.html">scheduler_sync_tag_advance.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scheduler_8h_source.html">scheduler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="semaphore_8h_source.html">semaphore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vector_8h_source.html">vector.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__lf__sched__thread__info__t.html">_lf_sched_thread_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about one worker thread.  <a href="struct__lf__sched__thread__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a43fcdba4ed8864d210afd3f031b4e346"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a43fcdba4ed8864d210afd3f031b4e346">NUMBER_OF_WORKERS</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a43fcdba4ed8864d210afd3f031b4e346"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a92faef7f26ced82ad093c4876d6ab9bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a92faef7f26ced82ad093c4876d6ab9bf">_lf_has_precedence_over</a> (<a class="el" href="structreaction__t.html">reaction_t</a> *r1, <a class="el" href="structreaction__t.html">reaction_t</a> *r2)</td></tr>
<tr class="separator:a92faef7f26ced82ad093c4876d6ab9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881c16f5335d6e3bcd7e073b07c0b4dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a881c16f5335d6e3bcd7e073b07c0b4dc">_lf_is_blocked_by_executing_or_blocked_reaction</a> (<a class="el" href="structreaction__t.html">reaction_t</a> *reaction)</td></tr>
<tr class="separator:a881c16f5335d6e3bcd7e073b07c0b4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ca432ff131d77df4fa82cfe376545b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a10ca432ff131d77df4fa82cfe376545b">_lf_sched_update_queues</a> ()</td></tr>
<tr class="memdesc:a10ca432ff131d77df4fa82cfe376545b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the contents of worker thread queues to the actual global queues.  <br /></td></tr>
<tr class="separator:a10ca432ff131d77df4fa82cfe376545b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1555e7d3ff8c65d325f7e97762f198d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#ac1555e7d3ff8c65d325f7e97762f198d">_lf_sched_notify_workers</a> ()</td></tr>
<tr class="memdesc:ac1555e7d3ff8c65d325f7e97762f198d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If there is work to be done, notify workers individually.  <br /></td></tr>
<tr class="separator:ac1555e7d3ff8c65d325f7e97762f198d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0cce6054d5e5ea6fbf4df95f0373e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#ace0cce6054d5e5ea6fbf4df95f0373e6">_lf_sched_try_advance_tag_and_distribute</a> ()</td></tr>
<tr class="memdesc:ace0cce6054d5e5ea6fbf4df95f0373e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance tag or distribute reactions to worker threads.  <br /></td></tr>
<tr class="separator:ace0cce6054d5e5ea6fbf4df95f0373e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7834893e1dc1b9360d931fd58ecd3d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#ac7834893e1dc1b9360d931fd58ecd3d2">_lf_sched_signal_stop</a> ()</td></tr>
<tr class="memdesc:ac7834893e1dc1b9360d931fd58ecd3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal all worker threads that it is time to stop.  <br /></td></tr>
<tr class="separator:ac7834893e1dc1b9360d931fd58ecd3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4c1e2f0b4af5976c84bd7264c12e36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a0e4c1e2f0b4af5976c84bd7264c12e36">_lf_sched_do_scheduling</a> ()</td></tr>
<tr class="memdesc:a0e4c1e2f0b4af5976c84bd7264c12e36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a round of scheduling.  <br /></td></tr>
<tr class="separator:a0e4c1e2f0b4af5976c84bd7264c12e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2b942c2c03959d7fe17925e4f88ad3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a3e2b942c2c03959d7fe17925e4f88ad3">_lf_sched_wait_for_work</a> (size_t worker_number)</td></tr>
<tr class="memdesc:a3e2b942c2c03959d7fe17925e4f88ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until the scheduler assigns work.  <br /></td></tr>
<tr class="separator:a3e2b942c2c03959d7fe17925e4f88ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebe11964e085da920e9d3a298aab156"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a8ebe11964e085da920e9d3a298aab156">lf_sched_init</a> (size_t number_of_workers, <a class="el" href="structsched__params__t.html">sched_params_t</a> *params)</td></tr>
<tr class="memdesc:a8ebe11964e085da920e9d3a298aab156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the scheduler.  <br /></td></tr>
<tr class="separator:a8ebe11964e085da920e9d3a298aab156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92dab535c2ed9cff1c7808d279bf9a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#ab92dab535c2ed9cff1c7808d279bf9a6">lf_sched_free</a> ()</td></tr>
<tr class="memdesc:ab92dab535c2ed9cff1c7808d279bf9a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the memory used by the scheduler.  <br /></td></tr>
<tr class="separator:ab92dab535c2ed9cff1c7808d279bf9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea5198024515f440cfb2027689f3993"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a8ea5198024515f440cfb2027689f3993">lf_sched_get_ready_reaction</a> (int worker_number)</td></tr>
<tr class="memdesc:a8ea5198024515f440cfb2027689f3993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask the scheduler for one more reaction.  <br /></td></tr>
<tr class="separator:a8ea5198024515f440cfb2027689f3993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485e4339d95d23ae5bcbb06c244e7145"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a485e4339d95d23ae5bcbb06c244e7145">lf_sched_done_with_reaction</a> (size_t worker_number, <a class="el" href="structreaction__t.html">reaction_t</a> *done_reaction)</td></tr>
<tr class="memdesc:a485e4339d95d23ae5bcbb06c244e7145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the scheduler that worker thread 'worker_number' is done executing the 'done_reaction'.  <br /></td></tr>
<tr class="separator:a485e4339d95d23ae5bcbb06c244e7145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454c4a2de7d02718e7d9285858fe57b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a454c4a2de7d02718e7d9285858fe57b9">lf_sched_trigger_reaction</a> (<a class="el" href="structreaction__t.html">reaction_t</a> *reaction, int worker_number)</td></tr>
<tr class="memdesc:a454c4a2de7d02718e7d9285858fe57b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the scheduler that worker thread 'worker_number' would like to trigger 'reaction' at the current tag.  <br /></td></tr>
<tr class="separator:a454c4a2de7d02718e7d9285858fe57b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab491fbef9a883a7cee19e074dba32661"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ad7c2ee72327071ecc11ecb5787fc4a37">lf_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#ab491fbef9a883a7cee19e074dba32661">mutex</a></td></tr>
<tr class="separator:ab491fbef9a883a7cee19e074dba32661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae933ce3679436a2923c17a5d6afd6c1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__lf__sched__instance__t.html">_lf_sched_instance_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#ae933ce3679436a2923c17a5d6afd6c1e">_lf_sched_instance</a></td></tr>
<tr class="separator:ae933ce3679436a2923c17a5d6afd6c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1db8342ffb5ddcbc31914a6e22c5f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__lf__sched__thread__info__t.html">_lf_sched_thread_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#abf1db8342ffb5ddcbc31914a6e22c5f1">_lf_sched_threads_info</a></td></tr>
<tr class="memdesc:abf1db8342ffb5ddcbc31914a6e22c5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about worker threads.  <br /></td></tr>
<tr class="separator:abf1db8342ffb5ddcbc31914a6e22c5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d834811739fa4d02659e51298b0f50"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a52d834811739fa4d02659e51298b0f50">_lf_sched_scheduling_in_progress</a> = false</td></tr>
<tr class="memdesc:a52d834811739fa4d02659e51298b0f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a thread is already performing scheduling.  <br /></td></tr>
<tr class="separator:a52d834811739fa4d02659e51298b0f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f71997b58700c4fe1fddb2118d7958e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler___p_e_d_f___n_p_8c.html#a9f71997b58700c4fe1fddb2118d7958e">_lf_sched_balancing_index</a> = 0</td></tr>
<tr class="memdesc:a9f71997b58700c4fe1fddb2118d7958e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index used by the scheduler to balance the distribution of reactions to worker threads.  <br /></td></tr>
<tr class="separator:a9f71997b58700c4fe1fddb2118d7958e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a43fcdba4ed8864d210afd3f031b4e346" name="a43fcdba4ed8864d210afd3f031b4e346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fcdba4ed8864d210afd3f031b4e346">&#9670;&#160;</a></span>NUMBER_OF_WORKERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMBER_OF_WORKERS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Partitioned Earliest Deadline First (PEDF) non-preemptive for the threaded runtime of the C target of Lingua Franca.</p>
<dl class="section author"><dt>Author</dt><dd>{Soroush Bateni <a href="#" onclick="location.href='mai'+'lto:'+'sor'+'ou'+'sh@'+'ut'+'dal'+'la'+'s.e'+'du'; return false;">sorou<span class="obfuscator">.nosp@m.</span>sh@u<span class="obfuscator">.nosp@m.</span>tdall<span class="obfuscator">.nosp@m.</span>as.e<span class="obfuscator">.nosp@m.</span>du</a>} </dd>
<dd>
{Edward A. Lee <a href="#" onclick="location.href='mai'+'lto:'+'eal'+'@b'+'erk'+'el'+'ey.'+'ed'+'u'; return false;">eal@b<span class="obfuscator">.nosp@m.</span>erke<span class="obfuscator">.nosp@m.</span>ley.e<span class="obfuscator">.nosp@m.</span>du</a>} </dd>
<dd>
{Marten Lohstroh <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'te'+'n@b'+'er'+'kel'+'ey'+'.ed'+'u'; return false;">marte<span class="obfuscator">.nosp@m.</span>n@be<span class="obfuscator">.nosp@m.</span>rkele<span class="obfuscator">.nosp@m.</span>y.ed<span class="obfuscator">.nosp@m.</span>u</a>} </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a92faef7f26ced82ad093c4876d6ab9bf" name="a92faef7f26ced82ad093c4876d6ab9bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92faef7f26ced82ad093c4876d6ab9bf">&#9670;&#160;</a></span>_lf_has_precedence_over()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _lf_has_precedence_over </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td>
          <td class="paramname"><em>r2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if the first reaction has precedence over the second, false otherwise. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r1</td><td>The first reaction. </td></tr>
    <tr><td class="paramname">r2</td><td>The second reaction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a881c16f5335d6e3bcd7e073b07c0b4dc" name="a881c16f5335d6e3bcd7e073b07c0b4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a881c16f5335d6e3bcd7e073b07c0b4dc">&#9670;&#160;</a></span>_lf_is_blocked_by_executing_or_blocked_reaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _lf_is_blocked_by_executing_or_blocked_reaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td>
          <td class="paramname"><em>reaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the reaction is blocked by a currently executing reaction, return true. Otherwise, return false. A reaction blocks the specified reaction if it has a level less than that of the specified reaction and it also has an overlapping chain ID, meaning that it is (possibly) upstream of the specified reaction. This function assumes the mutex is held because it accesses the _lf_sched_instance-&gt;_lf_sched_executing_reactions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>The reaction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if this reaction is blocked, false otherwise. </dd></dl>

</div>
</div>
<a id="a0e4c1e2f0b4af5976c84bd7264c12e36" name="a0e4c1e2f0b4af5976c84bd7264c12e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4c1e2f0b4af5976c84bd7264c12e36">&#9670;&#160;</a></span>_lf_sched_do_scheduling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _lf_sched_do_scheduling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a round of scheduling. </p>

</div>
</div>
<a id="ac1555e7d3ff8c65d325f7e97762f198d" name="ac1555e7d3ff8c65d325f7e97762f198d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1555e7d3ff8c65d325f7e97762f198d">&#9670;&#160;</a></span>_lf_sched_notify_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _lf_sched_notify_workers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If there is work to be done, notify workers individually. </p>
<p>This assumes that the caller is not holding any thread mutexes. </p>

</div>
</div>
<a id="ac7834893e1dc1b9360d931fd58ecd3d2" name="ac7834893e1dc1b9360d931fd58ecd3d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7834893e1dc1b9360d931fd58ecd3d2">&#9670;&#160;</a></span>_lf_sched_signal_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _lf_sched_signal_stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal all worker threads that it is time to stop. </p>

</div>
</div>
<a id="ace0cce6054d5e5ea6fbf4df95f0373e6" name="ace0cce6054d5e5ea6fbf4df95f0373e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0cce6054d5e5ea6fbf4df95f0373e6">&#9670;&#160;</a></span>_lf_sched_try_advance_tag_and_distribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _lf_sched_try_advance_tag_and_distribute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance tag or distribute reactions to worker threads. </p>
<p>Advance tag if there are no reactions in the reaction queue or in progress. If there are such reactions, distribute them to worker threads. As part of its book-keeping, this function will clear the output_reactions and done_reactions queues of all idle worker threads if appropriate.</p>
<p>This function assumes the caller does not hold the 'mutex' lock.</p>
<dl class="section return"><dt>Returns</dt><dd>should_exit True if the worker thread should exit. False otherwise. </dd></dl>

</div>
</div>
<a id="a10ca432ff131d77df4fa82cfe376545b" name="a10ca432ff131d77df4fa82cfe376545b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ca432ff131d77df4fa82cfe376545b">&#9670;&#160;</a></span>_lf_sched_update_queues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _lf_sched_update_queues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer the contents of worker thread queues to the actual global queues. </p>
<p>This will transfer worker threads' output reactions to the reaction queue and removes worker threads' done reactions from the executing queue.</p>
<p>This assumes that the caller is not holding any thread mutexes.</p>
<dl class="section return"><dt>Returns</dt><dd>true If any of the workers were busy. </dd>
<dd>
false All the workers were idle. </dd></dl>

</div>
</div>
<a id="a3e2b942c2c03959d7fe17925e4f88ad3" name="a3e2b942c2c03959d7fe17925e4f88ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2b942c2c03959d7fe17925e4f88ad3">&#9670;&#160;</a></span>_lf_sched_wait_for_work()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _lf_sched_wait_for_work </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>worker_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until the scheduler assigns work. </p>
<p>This will inform the scheduler that this thread is idle via </p><dl class="section see"><dt>See also</dt><dd>'_lf_sched_ask_for_work' and waits until work is handed out by the scheduler to the worker thread 'worker_number' or it's time <a class="el" href="hashmap_8h.html#a611d52c77a8144080f7bfb45eaec2a66">for</a> the worker thread to stop.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker_number</td><td>The worker number of the worker thread asking for work to be assigned to it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a485e4339d95d23ae5bcbb06c244e7145" name="a485e4339d95d23ae5bcbb06c244e7145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485e4339d95d23ae5bcbb06c244e7145">&#9670;&#160;</a></span>lf_sched_done_with_reaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lf_sched_done_with_reaction </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>worker_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td>
          <td class="paramname"><em>done_reaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the scheduler that worker thread 'worker_number' is done executing the 'done_reaction'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker_number</td><td>The worker number for the worker thread that has finished executing 'done_reaction'. </td></tr>
    <tr><td class="paramname">done_reaction</td><td>The reaction is that is done. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab92dab535c2ed9cff1c7808d279bf9a6" name="ab92dab535c2ed9cff1c7808d279bf9a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92dab535c2ed9cff1c7808d279bf9a6">&#9670;&#160;</a></span>lf_sched_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lf_sched_free </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the memory used by the scheduler. </p>
<p>This must be called when the scheduler is no longer needed. </p>

</div>
</div>
<a id="a8ea5198024515f440cfb2027689f3993" name="a8ea5198024515f440cfb2027689f3993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea5198024515f440cfb2027689f3993">&#9670;&#160;</a></span>lf_sched_get_ready_reaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structreaction__t.html">reaction_t</a> * lf_sched_get_ready_reaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>worker_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask the scheduler for one more reaction. </p>
<p>This function blocks until it can return a ready reaction for worker thread 'worker_number' or it is time for the worker thread to stop and exit (where a NULL value would be returned).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker_number</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reaction_t* A reaction for the worker to execute. NULL if the calling worker thread should exit. </dd></dl>

</div>
</div>
<a id="a8ebe11964e085da920e9d3a298aab156" name="a8ebe11964e085da920e9d3a298aab156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ebe11964e085da920e9d3a298aab156">&#9670;&#160;</a></span>lf_sched_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lf_sched_init </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>number_of_workers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsched__params__t.html">sched_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the scheduler. </p>
<p>This has to be called before other functions of the scheduler can be used. If the scheduler is already initialized, this will be a no-op.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_workers</td><td>Indicate how many workers this scheduler will be managing. </td></tr>
    <tr><td class="paramname">option</td><td>Pointer to a <code><a class="el" href="structsched__params__t.html" title="Struct representing the most common scheduler parameters.">sched_params_t</a></code> struct containing additional scheduler parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a454c4a2de7d02718e7d9285858fe57b9" name="a454c4a2de7d02718e7d9285858fe57b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454c4a2de7d02718e7d9285858fe57b9">&#9670;&#160;</a></span>lf_sched_trigger_reaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lf_sched_trigger_reaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td>
          <td class="paramname"><em>reaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>worker_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the scheduler that worker thread 'worker_number' would like to trigger 'reaction' at the current tag. </p>
<p>If a worker number is not available (e.g., this function is not called by a worker thread), -1 should be passed as the 'worker_number'.</p>
<p>The scheduler will ensure that the same reaction is not triggered twice in the same tag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>The reaction to trigger at the current tag. </td></tr>
    <tr><td class="paramname">worker_number</td><td>The ID of the worker that is making this call. 0 should be used if there is only one worker (e.g., when the program is using the unthreaded C runtime). -1 is used for an anonymous call in a context where a worker number does not make sense (e.g., the caller is not a worker thread). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9f71997b58700c4fe1fddb2118d7958e" name="a9f71997b58700c4fe1fddb2118d7958e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f71997b58700c4fe1fddb2118d7958e">&#9670;&#160;</a></span>_lf_sched_balancing_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _lf_sched_balancing_index = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index used by the scheduler to balance the distribution of reactions to worker threads. </p>
<p>The maximum of _lf_sched_balancing_index and reaction-&gt;worker_affinity is chosen by the scheduler as the starting point in the quest to find the next available worker to assign a reaction to. During the work distribution phase, this index is updated to make sure the scheduler does not assign work to the same worker thread two times in a row. After the work distribution phase, this index is reset to 0. </p>

</div>
</div>
<a id="ae933ce3679436a2923c17a5d6afd6c1e" name="ae933ce3679436a2923c17a5d6afd6c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae933ce3679436a2923c17a5d6afd6c1e">&#9670;&#160;</a></span>_lf_sched_instance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__lf__sched__instance__t.html">_lf_sched_instance_t</a>* _lf_sched_instance</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a52d834811739fa4d02659e51298b0f50" name="a52d834811739fa4d02659e51298b0f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d834811739fa4d02659e51298b0f50">&#9670;&#160;</a></span>_lf_sched_scheduling_in_progress</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool _lf_sched_scheduling_in_progress = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that a thread is already performing scheduling. </p>

</div>
</div>
<a id="abf1db8342ffb5ddcbc31914a6e22c5f1" name="abf1db8342ffb5ddcbc31914a6e22c5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1db8342ffb5ddcbc31914a6e22c5f1">&#9670;&#160;</a></span>_lf_sched_threads_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__lf__sched__thread__info__t.html">_lf_sched_thread_info_t</a>* _lf_sched_threads_info</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Information about worker threads. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct__lf__sched__thread__info__t.html" title="Information about one worker thread.">_lf_sched_thread_info_t</a>. </dd></dl>

</div>
</div>
<a id="ab491fbef9a883a7cee19e074dba32661" name="ab491fbef9a883a7cee19e074dba32661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab491fbef9a883a7cee19e074dba32661">&#9670;&#160;</a></span>mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ad7c2ee72327071ecc11ecb5787fc4a37">lf_mutex_t</a> mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
